(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"159b4":function(t,e,a){"use strict";var r=a("f0b6"),n=a.n(r);n.a},bb51:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home col"},[a("div",{staticClass:"toolbar"},[a("b-button-group",{staticClass:"row"},[a("b-button",{attrs:{variant:"primary"},on:{click:t.addGroup}},[t._v("Add group")]),a("b-button",{attrs:{variant:t.editable?"warning":"primary"},on:{click:function(e){t.editable?t.saveLayout():t.editable=!0}}},[t._v(" "+t._s(t.editable?"Save":"Edit layout")+" ")]),a("b-button",{attrs:{variant:"primary"},on:{click:t.createLayout}},[t._v("Create layout")])],1),a("b-button-group",{staticClass:"mt-2"},t._l(t.layouts,(function(e,r){return a("b-button",{key:r,attrs:{disabled:t.editable||e===t.layout,variant:e===t.layout?"success":"secondary"},on:{click:function(e){return t.selectLayout(r)}}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),t.layout&&t.layout.groups.length?a("main",[a("grid-layout",{class:{bordered:t.editable},attrs:{layout:t.layout.groups,"col-num":24,"row-height":32,"is-draggable":t.editable,"is-resizable":t.editable,"is-mirrored":!1,"vertical-compact":!0,margin:[10,10],"use-css-transforms":!1}},t._l(t.layout.groups,(function(t){return a("grid-item",{key:t.i,staticClass:"groupTile",attrs:{i:t.i,x:t.x,y:t.y,w:t.w,h:t.h}},[a("app-group",{attrs:{id:t.i}})],1)})),1)],1):t._e()])},n=[],s=(a("96cf"),a("1da1")),o=a("5530"),i=a("2f62"),u={name:"Home",data:function(){return{editable:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(i["b"])({layouts:function(t){return t.settings.layouts},userId:function(t){return t.user.id}})),{},{layout:function(){return this.$store.getters["settings/getActiveLayout"]}}),created:function(){this.fetchGroups()},methods:{addGroup:function(){this.openModal("addGroup")},saveLayout:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("settings/editLayout",t.layout);case 3:t.editable=!1,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),t.$alert.display(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},fetchGroups:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$store.state.user.loggedIn){e.next=4;break}return e.next=3,t.$store.dispatch("user/fetchGroups");case 3:null===t.$store.state.settings.activeLayout&&t.$store.commit("settings/SET_ACTIVE_LAYOUT");case 4:case"end":return e.stop()}}),e)})))()},createLayout:function(){this.openModal("createLayout")},selectLayout:function(t){this.$store.commit("settings/SET_ACTIVE_LAYOUT",t)}}},c=u,l=(a("159b4"),a("2877")),d=Object(l["a"])(c,r,n,!1,null,"b652e3f6",null);e["default"]=d.exports},f0b6:function(t,e,a){}}]);
//# sourceMappingURL=home.a5d2f7fb.js.map